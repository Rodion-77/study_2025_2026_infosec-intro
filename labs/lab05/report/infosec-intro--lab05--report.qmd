---
## Author
author:
  name: Павличенко Родион Андреевич
  degrees: DSc
  orcid: 0000-0002-0877-7063
  email: 1132246838@pfur.ru
  affiliation:
    - name: Российский университет дружбы народов
      country: Российская Федерация
      postal-code: 117198
      city: Москва
      address: ул. Миклухо-Маклая, д. 6

## Title
title: "Лабораторная работа № 5"
subtitle: "Дискреционное разграничение прав в Linux. Исследование влияния дополнительных атрибутов"
license: "CC BY"
---

# Цель работы

Изучение механизмов изменения идентификаторов, применения SetUID- и Sticky-битов. Получение практических навыков работы в консоли с дополнительными атрибутами. Рассмотрение работы механизма смены идентификатора процессов пользователей, а также влияние бита Sticky на запись и удаление файлов

# Выполнение лабораторной работы

Вошли в систему от имени пользователя guest. Создали программу simpleid.c

![Создание simpleid](image/5.1.png){#fig-001 width=70%}

Скомплилировали программу и убедились, что файл программы создан. Выполнили программу simpleid. Выполнили системную программу id

![Работа с программой](image/5.2.png){#fig-001 width=70%}

Усложнили программу, добавив вывод действительных идентификаторо

![Усложнение программы](image/5.3.png){#fig-001 width=70%}

Скомпилировали и запустили simpleid2.c

![Запуск](image/5.4.png){#fig-001 width=70%}

От имени суперпользователя выполнили команды: chown root:guest /home/guest/simpleid2; chmod u+s /home/guest/simpleid

![Выполнение команд](image/5.5.png){#fig-001 width=70%}

Выполнили проверку правильности установки новых атрибутов и смены владельца файла simpleid2. Запустили simpleid2 и id

![Проверка и запуск](image/5.6.png){#fig-001 width=70%}

Проделали тоже самое относительно SetGID-бита

![Работа с SetGID-битом](image/5.7.png){#fig-001 width=70%}

Создали программу readfile.c и откомпилировали ее

![Создание новой программы](image/5.8.png){#fig-001 width=70%}

Сменили владельца у файла readfile.c и изменили права так, чтобы только суперпользователь (root) мог прочитать его, a guest не мог

![Смена владельца](image/5.9.png){#fig-001 width=70%}

Проверили, что пользователь guest не может прочитать файл readfile.c.

![Проверка файла](image/5.10.png){#fig-001 width=70%}

Сменили у программы readfile владельца и установили SetU’D-бит

![Смена владельца](image/5.11.png){#fig-001 width=70%}

Проверили, может ли программа readfile прочитать файл readfile.c. Она может

![Чтение файла](image/5.12.png){#fig-001 width=70%}

Проверили, может ли программа readfile прочитать файл /etc/shadow. Она может

![Чтение файла](image/5.13.png){#fig-001 width=70%}

Выяснили, установлен ли атрибут Sticky на директории /tmp, для чего выполните команду ls -l / | grep tmp. От имени пользователя guest создали файл file01.txt в директории /tmp со словом test. Просмотрели атрибуты у только что созданного файла и разрешили чтение и запись для категории пользователей «все остальные»

![Работа с файлом file01.txt](image/5.14.png){#fig-001 width=70%}

От пользователя guest2 попробуйте прочитать файл /tmp/file01.txt. От пользователя guest2 попробовали дозаписать в файл /tmp/file01.txt слово test2. Операцию выполнить не удалось. Проверили содержимое файла командой cat /tmp/file01.txt. От пользователя guest2 попробовализаписать в файл /tmp/file01.txt слово test3, стерев при этом всю имеющуюся в файле информацию Выполнить операцию не удалось. Проверили содержимое файла командой cat /tmp/file01.txt

![Работа с файлом file01.txt](image/5.15.png){#fig-001 width=70%}

От пользователя guest2 попробовали удалить файл /tmp/file01.txt командой rm /tmp/file01.txt. Не удалось удалить файл.

![Удаление файла](image/5.16.png){#fig-001 width=70%}

Повысили свои права до суперпользователя и выполнили после этого команду, снимающую атрибут t (Sticky-бит) с директории /tmp. Покинули режим суперпользователя командой exit. От пользователя guest2 проверили, что атрибута t у директории /tmp нет

![Работа с атрибутом t](image/5.17.png){#fig-001 width=70%}

Повторили предыдущие шаги. Все действия, кроме удаления выполнить не удалось.

![Повтор предыдущих шагов](image/5.18.png){#fig-001 width=70%}

Повысили свои права до суперпользователя и вернули атрибут t на директорию /tmp

![Возвращение атрибута t в дирректорию tmp](image/5.19.png){#fig-001 width=70%}

# Выводы

Изучили механизмы изменения идентификаторов, применения SetUID- и Sticky-битов.Получили практических навыков работы в консоли с дополнительными атрибутами. Рассмотрели работы механизма смены идентификатора процессов пользователей, а также влияние бита Sticky на запись и удаление файлов

# Список литературы{.unnumbered}

::: {#refs}
:::
